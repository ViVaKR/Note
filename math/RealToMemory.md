# 실수와 메모리

> 부동소수점 (Float Point)
>> 소수점의 위치가 이동한다는 의미

1. 단정도 (sigle precision)
   1. 32bit
   2. 부호 (1bit) + 지수 (8bit) + 가수(23bit) 
2. 배정도 (double precision)
   1. 64bit
   2. 부호 (1bit) + 지수 (11bit) + 가수(52bit)

---

|sign 부호 (1)|exponent 지수 (8/11)|mantissa 가수(23/52)|

---

## 정규화 : 정수 부분을 `0`이 아닌 `1` 의 자연수로 만들기

- $e.g$  $110.101 \rightarrow 1.10101 * 2^2$ 
- $e.g$ $1.010101 * 2^4$ 일때
- 가수중에서 앞에 `1.` 은 항상 1이므로 저장하지 않는다.
- $010101$ (가수) 이후에는 **$0$** 으로 나머지 가수부분을 채운다.
- 지수부 : $2^5$ 에서 2는 **기수**, 5는 **exponent real** 이라고 부른다.
- `exponent real` 은 `exp - bias` 로 구할수 있음

$$E_{re} = E_{mem} - bias$$
$$bias = 2^{n-1} - 1$$

- $0.0000111 -> 1.11 * 2^5 (1.11 = 가수부, 2^5 = 지수부, 2 = 기수)$
- $e.g. float$ 의 경우 $2^{8-1} - 1 = 127$ 이므로 $bias = 127$
  - $E_{mem} = E_{re} + bias$ 즉, $5 + 127 = 132$ 를 2진수로 바꾸면 $E_{mem}$ 이됨
  - $e.g. \rightarrow 10.625$ 를 메모리 저장하는 방법
    1. 10.625를 2진수로 변환 
       1. 정부부분 : $10 = 8 + 2 ( 8 4 2 1 )$ 방식으로 변환 $\rightarrow 1010$ 
       2. 실수부분 : $.625$ : 소숫점 아래가 0이될때 까지 2를 곱하고 정수부분을 순서대로 가져옴
          - $0.625 * 2 = 1.25\\\;\,0.25 * 2 = 0.5\\\;\,0.50 * 2 = 1.0\\\rightarrow 101$
    2. 2진수 변환값 : $1010.101_2$
    3. 정규화 : $1.010101 * 2^3$
    4. 앞에 1. 을 제외한 $010101$ 이 가수부에 저장 (52자리이므로 나머지 부분은 0을 채워짐)
    5. 따라서 지수부는 $E_{mem} = 3 + 127$ 이므로 $130$ 이됨.(지수부 $= 2^3$, 2는 기수, 3은 $exponent\;real$ (제곱))
    6. 지수부 $130$ 의 2진수 = $128 + 2 \rightarrow 2^7 + 2 \rightarrowtail 10000010$
    7. $0(sign)\quad100000010(exponent)\quad0101010\dots(mantissa, 52digit)$

---

$e.g.\quad10.0(double)$ 의 메모리 저장 예시  
1. 2진수 변환 :  $10.0_{10}\rightarrowtail1010.0_2\rightarrowtail1.01*2^3$  
2. double : 부호 1비트, 지수 11비트, 가수 52비트  
3. double bias = 1023 (float bias = 127)
   1. `bias` : $float = 127, double = 1023$
4. 지수부 2진수 표현 : $bias + 3 = 1026\;\rightarrowtail \;100\;0000\;0010_2$  
5. 100 0000 0010 0100 0000 0000 0000 $\dots$


|1024|512 |256|128|64|32| 16 | 8 | 4 | 2 | 1 |
|---|---|---|---|---|---|---|---|---|---|---|
|0|0|0|0|0|0|0|0|0|0|0|
